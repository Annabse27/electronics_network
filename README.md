**Electronics Network API
Управление торговой сетью электроники**
Приложение предназначено для управления элементами торговой сети, включая создание, редактирование, просмотр и фильтрацию данных. Оно разработано с использованием Django и предоставляет интерфейс Swagger для работы с API.

Установка и запуск
1. Установите зависимости
Склонируйте репозиторий и установите зависимости. Убедитесь, что на вашем компьютере установлен Docker.
git clone https://github.com/Annabse27/electronics_network
cd electronics

Создайте файл .env на основе .env.example и заполните его корректными данными:
cp .env.example .env

2. Запустите проект через Docker Compose
Для сборки и запуска контейнеров выполните команду:
docker-compose up --build

3. Создайте суперпользователя
После запуска выполните команду для создания суперпользователя:
docker-compose exec app python manage.py createsuperuser

Следуйте инструкциям в терминале и заполните данные суперпользователя (имя пользователя, email, пароль).

Импорт данных
1. Загрузите фикстуры
Для загрузки тестовых данных выполните команду:
docker-compose exec app python manage.py loaddata fixtures/initial_data.json

Фикстуры включают:
Двух пользователей: менеджер и сотрудник.
Несколько тестовых объектов, включая элементы сети и продукты.
2. Настройте пользователей
Перейдите в админ-панель по адресу: http://localhost:8000/admin/. Авторизуйтесь под суперпользователем. Назначьте роли (менеджер, сотрудник) созданным пользователям и установите им пароли.

API для работы с сетью
1. Доступ к Swagger
Интерфейс Swagger доступен по адресу: http://localhost:8000/api/schema/swagger-ui/.
Кроме того, интерфейс Redoc доступен по адресу: http://localhost:8000/api/schema/redoc/.

2. Возможности API
Эндпоинты для работы с сетью
API предоставляет эндпоинты для работы с элементами сети:
GET /api/network/network/: Получение списка элементов сети.
POST /api/network/network/: Создание нового элемента сети.
PUT /api/network/network/{id}/: Полное обновление элемента сети.
PATCH /api/network/network/{id}/: Частичное обновление элемента сети.
DELETE /api/network/network/{id}/: Удаление элемента сети.
GET /api/network/network/?country={country_name}: Фильтрация элементов сети по стране.
⚠️ Примечание: Фильтр чувствителен к грамматическим ошибкам, вводите данные внимательно.
Пример работы API
Пример структуры объекта при создании элемента сети:
{
  "уровень_сети": 1,
  "название": "Розничная сеть Электроника",
  "электронная_почта": "retail@example.com",
  "телефон": "0987654321",
  "страна": "Россия",
  "регион": "Ленинградская область",
  "город": "Санкт-Петербург",
  "улица": "Невский проспект",
  "номер_дома": "20",
  "почтовый_индекс": "654321",
  "поставщик": 1
}

3. Особенности API
Поле "задолженность" недоступно для изменения через API. Это поле можно редактировать только через админ-панель.
Уровни сети:
Завод (уровень 0) не может иметь поставщика.
Розничная сеть (уровень 1) должна иметь поставщика уровня 0.
Индивидуальный предприниматель (уровень 2) должен иметь поставщика уровня 1.
Связанные продукты: API предоставляет возможность просматривать список продуктов, связанных с элементами сети.
4. Авторизация
Для работы с API вам нужно авторизоваться:
Получите токен через эндпоинт: /api/token/.
Авторизуйтесь, добавив токен в заголовок Authorization: Bearer {token}.
Вы можете использовать интерфейс Swagger для удобной работы.

Работа с админкой
Админка адаптирована для работы с элементами сети и продуктами:
Элементы сети: можно создавать, редактировать, удалять, назначать поставщиков.
Продукты: можно добавлять, связывать с элементами сети, изменять или удалять.
Пользователи: можно управлять ролями и доступами.

Тестирование
Для запуска тестов используйте команду:
docker-compose exec app pytest

Покрытие тестами
Покрытие тестов: 79%. Тесты покрывают основные задачи и логику работы приложения.

Поддержка
Если у вас возникли вопросы, пожалуйста, свяжитесь с разработчиком через email: annabse27@gmail.com.
